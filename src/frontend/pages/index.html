<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <title>Russo Bet Slots</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="../assets/icons/favicon.png">
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/layout.css">
  </head>
  <body class="page-center" data-page="home">
    <div class="page">
      <header class="card-glass">
        <div class="card-header">
          <div class="brand">
            <div class="brand-logo">
              <span>RB</span>
            </div>
            <div class="brand-text">
              <span class="brand-title">RUSSO BET SLOTS</span>
              <span class="brand-subtitle">Russo Bet ¬∑ Slots & Apostas</span>
            </div>
          </div>
          <div style="display:flex; align-items:center; gap:10px;">
            <button class="btn btn-ghost btn-sm" type="button" onclick="scrollToSignup()">
              Entrar
            </button>
            <button class="btn btn-primary btn-sm" type="button" onclick="scrollToSignup()">
              Registre-se
            </button>
          </div>
        </div>
      </header>

      <main class="site-shell">
        <section class="site-banner">
          <div class="site-banner-footer">
            Slots em modo demonstra√ß√£o. Nenhuma transa√ß√£o financeira real √© processada.
          </div>
        </section>

        <section id="signup-modal" class="modal-card-signup">
          <div class="modal-signup-top-meta">
            <button class="btn btn-ghost btn-sm" type="button">
              Precisa de ajuda?
            </button>
            <div>
              <span style="font-size:11px; color:var(--text-muted);">J√° tem uma conta?</span>
              <button class="btn btn-ghost btn-sm" type="button" onclick="scrollToLogin()">
                Fa√ßa login aqui
              </button>
            </div>
          </div>

          <div class="modal-signup-header">
            <div>
              <div class="modal-signup-title">Criar conta</div>
              <div class="modal-signup-subtitle">
                Preencha seus dados para liberar o acesso aos slots da Russo Bet.
              </div>
            </div>
            <button class="modal-signup-close" type="button" onclick="closeSignupModal()">
              √ó
            </button>
          </div>

          <form data-form-register class="form">
            <div class="form-row">
              <div class="form-field">
                <label class="form-label label-required" for="fullName">Nome completo</label>
                <input class="form-control" id="fullName" name="fullName" type="text" placeholder="Seu nome completo">
              </div>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label class="form-label label-required" for="cpf">CPF</label>
                <input class="form-control" id="cpf" name="cpf" type="text" placeholder="000.000.000-00">
                <span class="form-hint">Apenas n√∫meros.</span>
              </div>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label class="form-label label-required" for="email">E-mail</label>
                <div>
                  <input class="form-control" id="email" name="email" type="email" placeholder="voce@exemplo.com">
                  <span class="tooltip-icon">
                    i
                    <span>Digite um e-mail v√°lido. Ser√° necess√°rio verific√°-lo posteriormente.</span>
                  </span>
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label class="form-label label-required" for="phone">Telefone</label>
                <div>
                  <input class="form-control" id="phone" name="phone" type="text" placeholder="11999999999">
                  <span class="tooltip-icon">
                    i
                    <span>Digite um telefone v√°lido. Ser√° necess√°rio verific√°-lo posteriormente.</span>
                  </span>
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label class="form-label label-required" for="password">Senha</label>
                <div class="password-wrapper">
                  <input class="form-control" id="password" name="password" type="password" placeholder="Crie uma senha segura">
                  <button type="button" id="togglePassword" class="password-eye">
                    üëÅÔ∏è‚Äçüó®Ô∏è
                  </button>
                </div>
                <div class="password-rules" id="passwordRules">
                  <div class="password-rule">
                    <span class="password-rule-icon" data-rule-letter>√ó</span>
                    <span>Ao menos uma letra</span>
                  </div>
                  <div class="password-rule">
                    <span class="password-rule-icon" data-rule-number>√ó</span>
                    <span>Ao menos um n√∫mero</span>
                  </div>
                  <div class="password-rule">
                    <span class="password-rule-icon" data-rule-special>√ó</span>
                    <span>Ao menos um caractere especial</span>
                  </div>
                  <div class="password-rule">
                    <span class="password-rule-icon" data-rule-length>√ó</span>
                    <span>Pelo menos 8 caracteres</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label class="form-label label-required" for="confirmPassword">Confirme a senha</label>
                <div class="password-wrapper">
                  <input class="form-control" id="confirmPassword" name="confirmPassword" type="password" placeholder="Repita a mesma senha">
                  <button type="button" id="toggleConfirmPassword" class="password-eye">
                    üëÅÔ∏è‚Äçüó®Ô∏è
                  </button>
                </div>
              </div>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label class="form-label" for="birthDate">Data de nascimento</label>
                <input class="form-control" id="birthDate" name="birthDate" type="date">
              </div>
              <div class="form-field">
                <label class="form-label" for="nationality">Nacionalidade</label>
                <select class="form-control" id="nationality" name="nationality">
                  <option value="">Selecione</option>
                  <option value="alemaoa">Alem√£o(√£)</option>
                  <option value="americanoa">Americano(a)</option>
                  <option value="argentinoa">Argentino(a)</option>
                  <option value="brasileiroa">Brasileiro(a)</option>
                  <option value="canadense">Canadense</option>
                  <option value="chilenoa">Chileno(a)</option>
                  <option value="chinesa">Chin√™s(Chinesa)</option>
                  <option value="espanhola">Espanhol(a)</option>
                  <option value="francesa">Franc√™s(Francesa)</option>
                  <option value="indiana">Indiano(a)</option>
                  <option value="italiana">Italiano(a)</option>
                  <option value="japonesa">Japon√™s(Japonesa)</option>
                  <option value="mexicanoa">Mexicano(a)</option>
                  <option value="portuguesa">Portugu√™s(Portuguesa)</option>
                  <option value="russoa">Russo(a)</option>
                  <option value="suecoa">Sueco(a)</option>
                  <option value="suicoa">Su√≠√ßo(a)</option>
                  <option value="outroa">Outro(a)</option>
                </select>
                <input class="form-control" id="nationalityOther" name="nationalityOther" type="text" placeholder="Digite sua nacionalidade" style="margin-top:6px; display:none;">
              </div>
            </div>

            <div class="form-row">
              <div class="form-field">
                <label class="form-label" for="refCode">C√≥digo de refer√™ncia</label>
                <input class="form-control" id="refCode" name="refCode" type="text" readonly>
                <span class="form-hint">Gerado automaticamente para fins de demonstra√ß√£o.</span>
              </div>
            </div>

            <div class="checkbox-row">
              <input type="checkbox" id="termsCheck">
              <label for="termsCheck">
                Confirmo que <span class="link-inline-plain">tenho mais de 18 anos</span> e aceito os
                <a href="#" onclick="openTerms(event)">Termos de Condi√ß√£o</a> e a
                <a href="#" onclick="openPrivacy(event)">Pol√≠tica de Privacidade</a>.
              </label>
            </div>

            <div class="form-error" data-feedback-error></div>
            <div class="form-success" data-feedback-success></div>

            <button class="btn btn-primary btn-full" type="submit" style="margin-top:12px;">
              Concluir registro
            </button>
          </form>
        </section>
      </main>
    </div>

    <div class="overlay-age" id="ageGate">
      <div class="modal-age">
        <div class="modal-age-header">
          Voc√™ tem mais de 18 anos?
        </div>
        <div class="modal-age-body">
          O conte√∫do desta plataforma simula uma casa de apostas e √© indicado apenas para maiores de idade.
        </div>
        <div class="modal-age-actions">
          <button class="btn btn-ghost" type="button" onclick="underAge()">
            N√£o
          </button>
          <button class="btn btn-primary" type="button" onclick="confirmAge()">
            Sim
          </button>
        </div>
        <div class="modal-age-note">
          Nenhuma transa√ß√£o financeira real √© processada.
        </div>
      </div>
    </div>

    <script src="../assets/js/auth.js"></script>
    <script>
      const ageGate = document.getElementById("ageGate");

      const confirmAge = () => {
        if (ageGate) {
          ageGate.style.display = "none";
        }
      };

      const underAge = () => {
        if (!ageGate) return;
        const modal = ageGate.querySelector(".modal-age-body");
        if (modal) {
          modal.textContent =
            "Desculpe. Este conte√∫do √© restrito para maiores de 18 anos. Feche esta aba ou recarregue a p√°gina para sair.";
        }
        const actions = ageGate.querySelector(".modal-age-actions");
        if (actions) {
          actions.innerHTML = "";
        }
      };

      const scrollToSignup = () => {
        const el = document.getElementById("signup-modal");
        if (!el) return;
        el.scrollIntoView({ behavior: "smooth", block: "start" });
      };

      const scrollToLogin = () => {
        scrollToSignup();
      };

      const closeSignupModal = () => {
        const el = document.getElementById("signup-modal");
        if (!el) return;
        el.style.display = "none";
      };

      const openTerms = (event) => {
        event.preventDefault();
        alert("Aqui entrar√£o os Termos de Condi√ß√£o em uma pr√≥xima etapa.");
      };

      const openPrivacy = (event) => {
        event.preventDefault();
        alert("Aqui entrar√° a Pol√≠tica de Privacidade em uma pr√≥xima etapa.");
      };

      const generateRefCode = () => {
        const input = document.getElementById("refCode");
        if (!input) return;
        const code = Math.random().toString(16).slice(2, 14);
        input.value = code;
      };

      const setupPasswordHelpers = () => {
        const input = document.getElementById("password");
        const confirmInput = document.getElementById("confirmPassword");
        const btnToggle = document.getElementById("togglePassword");
        const btnToggleConfirm = document.getElementById("toggleConfirmPassword");
        const iconLetter = document.querySelector("[data-rule-letter]");
        const iconNumber = document.querySelector("[data-rule-number]");
        const iconSpecial = document.querySelector("[data-rule-special]");
        const iconLength = document.querySelector("[data-rule-length]");
        const form = document.querySelector("[data-form-register]");
        const errorBox = form ? form.querySelector("[data-feedback-error]") : null;

        if (btnToggle && input) {
          btnToggle.addEventListener("click", () => {
            if (input.type === "password") {
              input.type = "text";
            } else {
              input.type = "password";
            }
          });
        }

        if (btnToggleConfirm && confirmInput) {
          btnToggleConfirm.addEventListener("click", () => {
            if (confirmInput.type === "password") {
              confirmInput.type = "text";
            } else {
              confirmInput.type = "password";
            }
          });
        }

        const updateRuleIcon = (icon, ok) => {
          if (!icon) return;
          if (ok) {
            icon.classList.add("ok");
            icon.textContent = "‚úì";
          } else {
            icon.classList.remove("ok");
            icon.textContent = "√ó";
          }
        };

        if (input) {
          input.addEventListener("input", () => {
            const value = input.value || "";
            const hasLetter = /[A-Za-z]/.test(value);
            const hasNumber = /[0-9]/.test(value);
            const hasSpecial = /[^A-Za-z0-9]/.test(value);
            const hasLength = value.length >= 8;

            updateRuleIcon(iconLetter, hasLetter);
            updateRuleIcon(iconNumber, hasNumber);
            updateRuleIcon(iconSpecial, hasSpecial);
            updateRuleIcon(iconLength, hasLength);
          });
        }

        if (form && input && confirmInput) {
          form.addEventListener("submit", (event) => {
            if (input.value !== confirmInput.value) {
              if (errorBox) {
                errorBox.textContent = "As senhas n√£o coincidem.";
              }
              confirmInput.focus();
              event.preventDefault();
            }
          });
        }
      };

      const setupCpfMask = () => {
        const cpfInput = document.getElementById("cpf");
        if (!cpfInput) return;
        cpfInput.addEventListener("input", () => {
          let value = cpfInput.value.replace(/\D/g, "").slice(0, 11);
          let formatted = "";
          if (value.length > 0) formatted = value.slice(0, 3);
          if (value.length >= 4) formatted += "." + value.slice(3, 6);
          if (value.length >= 7) formatted += "." + value.slice(6, 9);
          if (value.length >= 10) formatted += "-" + value.slice(9, 11);
          cpfInput.value = formatted;
        });
      };

      const setupNationalityOther = () => {
        const select = document.getElementById("nationality");
        const otherInput = document.getElementById("nationalityOther");
        if (!select || !otherInput) return;

        otherInput.maxLength = 20;

        select.addEventListener("change", () => {
          if (select.value === "outroa") {
            otherInput.style.display = "block";
          } else {
            otherInput.style.display = "none";
            otherInput.value = "";
          }
        });

        otherInput.addEventListener("input", () => {
          otherInput.value = otherInput.value.replace(/[^A-Za-z√Ä-√ø\s]/g, "");
        });
      };

      document.addEventListener("DOMContentLoaded", () => {
        generateRefCode();
        setupPasswordHelpers();
        setupCpfMask();
        setupNationalityOther();
      });
    </script>
  </body>
</html>